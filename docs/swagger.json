{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "NcrRugby API",
    "description": "NcrRugby spec for Swagger",
    "termsOfService": "http://swagger.io/terms/"
  },
  "basePath": "/api/v1",
  "tags": [
    {
      "name": "User",
      "description": "API for User"
    },
      {
      "name": "Common",
      "description": "API for Common Usage"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "multipart/form-data"
  ],
  "produces": [
    "application/json"
  ],
  "paths":{
    "/manage-user/signUp":{
      "post": {
        "tags": [
          "User"
        ],
        "description": "Sign Up",
        "operationId": "Sign Up",
        "produces": [
          "application/json"
        ],
        "parameters": [{
            "name": "fullName",
            "in": "formData",
            "description": "User name",
            "required": true,
            "type": "string"
          },
          {
            "name": "userName",
            "in": "formData",
            "description": "User name",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "formData",
            "description": "Password",
            "required": true,
            "type": "string"
          },
          {
            "name": "email",
            "in": "formData",
            "description": "Email",
            "required": true,
            "type": "string"
          },
          {
            "name": "phoneNumber",
            "in": "formData",
            "description": "Telephone Number",
            "required": true,
            "type": "string"
          },
          {
            "name": "gender",
            "in": "formData",
            "description": "male/female/others",
            "required": true,
            "type": "string"
          },
          {
            "name":"countryCode",
            "in":"formData",
            "description":"+91",
            "required":false,
            "type": "string"
          },
          {
            "name": "profile_image",
            "in": "formData",
            "description": "file to upload",
            "required": false,
            "type": "file"
          }
        ],
        "responses": {
          "200": {
            "description": "User successfully signed up. Please verify your email",
            "schema": {
              "$ref": "#/definitions/signUp200"
            }
          },
          "409": {
            "description": "User with this email already exists",
            "schema": {
              "$ref": "#/definitions/signUp409"
            }
          }
        }
      }
    },
    
    "/manage-user/editProfile":{
      "post": {
        "tags": [
          "User"
        ],
        "description": "Edit Profile",
        "operationId": "Edit Profile",
        "produces": [
          "application/json"
        ],
        "parameters": [
         {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":true,
            "type":"string",
            "default":""
         },
         {
            "name": "fullName",
            "in": "formData",
            "description": "User name",
            "required": false,
            "type": "string"
          },
          {
            "name": "email",
            "in": "formData",
            "description": "Email",
            "required": false,
            "type": "string"
          },
          {
            "name": "phoneNumber",
            "in": "formData",
            "description": "Telephone Number",
            "required": false,
            "type": "string"
          },
          {
            "name": "gender",
            "in": "formData",
            "description": "male/female/others",
            "required": false,
            "type": "string"
          },
          {
            "name": "profile_image",
            "in": "formData",
            "description": "file to upload",
            "required": false,
            "type": "file"
          }
        ],
        "responses": {
          "200": {
            "description": "Profile updated successfully"
          }
        }
      }
    },    
    
    "/manage-user/login": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Login",
        "operationId": "Login",
        "produces": [
          "application/json"
        ],
        "parameters": [{
            "name": "userName",
            "in": "formData",
            "description": "Username of the User",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "formData",
            "description": "Password of the User",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Logged In Successfully",
            "schema": {
              "$ref": "#/definitions/login200"
            }
          },
          "403": {
            "description": "Logged In Unauthorised",
            "schema": {
              "$ref": "#/definitions/login403"
            }
          }
        }
      }
    },
    "/manage-user/getUser": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Get user",
        "operationId": "Get user by id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "User found successfully"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/manage-user/logout": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Logout user",
        "operationId": "Get user by id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Logout successfully"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
      
    "/manage-user/forgotPassword": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Forgot Password",
        "operationId": "Forgot Password",
        "produces": [
          "application/json"
        ],
        "parameters": [{
          "name": "userName",
          "in": "formData",
          "description": "Username of user",
          "required": true,
          "type": "string",
          "default": "testuser"
        }],
        "responses": {
          "200": {
            "description": "Verification link sent to email",
            "schema": {
              "$ref": "#/definitions/forgotPassword200"
            }
          },
          "401": {
            "description": "User not found",
            "schema": {
              "$ref": "#/definitions/forgotPassword401"
            }
          },
          "500": {
            "description": "Internal Server error- Cannot save user",
            "schema": {
              "$ref": "#/definitions/forgotPassword500"
            }
          }
        }
      }
    },
    "/manage-user/verifyResetToken/{token}": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Verify reset token",
        "operationId": "Verify reset token",
        "produces": [
          "application/json"
        ],
        "parameters": [{
          "name": "token",
          "in": "path",
          "description": "reset token for reset password",
          "required": true,
          "type": "string",
          "default": ""
        }],
        "responses": {
          "200": {
            "description": "Token Verified",
            "schema": {
              "$ref": "#/definitions/verifyResetToken200"
            }
          },
          "401": {
            "description": "Token Expired",
            "schema": {
              "$ref": "#/definitions/verifyResetToken401"
            }
          },
          "403": {
            "description": "Unothorised",
            "schema": {
              "$ref": "#/definitions/verifyResetToken403"
            }
          },
          "500": {
            "description": "Something Went Wrong",
            "schema": {
              "$ref": "#/definitions/verifyResetToken500"
            }
          }
        }
      }
    },
    "/manage-user/resetPassword/{token}": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Password Updated",
        "operationId": "Password Updated",
        "produces": [
          "application/json"
        ],
        "parameters": [{
          "name": "password",
          "in": "formData",
          "description": "new password",
          "required": true,
          "type": "string",
          "default": "123456"
        }, {
          "name": "token",
          "in": "path",
          "description": "reset token",
          "required": true,
          "type": "string",
          "default": ""
        }, {
          "name": "confirmPassword",
          "in": "formData",
          "description": "confirm password",
          "required": true,
          "type": "string",
          "default": "123456"
        }],
        "responses": {
          "200": {
            "description": "Password Updated",
            "schema": {
              "$ref": "#/definitions/resetPassword200"
            }
          },
          "400": {
            "description": "Reset link expired",
            "schema": {
              "$ref": "#/definitions/resetPassword400"
            }
          },
          "401": {
            "description": "Token Expired",
            "schema": {
              "$ref": "#/definitions/resetPassword401"
            }
          },
          "500": {
            "description": "Something Went Wrong",
            "schema": {
              "$ref": "#/definitions/resetPassword500"
            }
          }
        }
      }
    },
    "/notifications/unsubscribe": {
      "post": {
        "tags": [
          "Webpush"
        ],
        "description": "Unsubscribe webpush",
        "operationId": "unsubscribe by id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         },
         {
           "name":"endpoint",
           "in":"formData",
           "description":"endpoint",
           "type":"string",
           "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "unsubscribe successful"
          },
          "404": {
            "description": "User not subscribe to any service"
          },
          "500": {
            "description": "failed to unsubscribe"
          }
        }
      }
    },

    "/manage-user/changePassword": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Password Updated",
        "operationId": "Password Updated",
        "produces": [
          "application/json"
        ],
        "parameters": [
         {
          "name": "access_token",
          "in": "header",
          "description": "user access token",
          "required": true,
          "type": "string",
          "default": ""
        },
        {
          "name": "oldPassword",
          "in": "formData",
          "description": "old password",
          "required": true,
          "type": "string",
          "default": "123456"
        },
        {
          "name": "newPassword",
          "in": "formData",
          "description": "new password",
          "required": true,
          "type": "string",
          "default": "123456"
        }, 
        {
          "name": "confirmPassword",
          "in": "formData",
          "description": "confirm password",
          "required": true,
          "type": "string",
          "default": "123456"
        }],
        "responses": {
          "200": {
            "description": "Password Updated",
            "schema": {
              "$ref": "#/definitions/resetPassword200"
            }
          },
          "400": {
            "description": "Reset link expired",
            "schema": {
              "$ref": "#/definitions/resetPassword400"
            }
          },
          "401": {
            "description": "Token Expired",
            "schema": {
              "$ref": "#/definitions/resetPassword401"
            }
          },
          "500": {
            "description": "Something Went Wrong",
            "schema": {
              "$ref": "#/definitions/resetPassword500"
            }
          }
        }
      }},
      
    "/manage-user-bracket/create": {
      "post": {
        "tags": [
          "User Bracket"
        ],
        "description": "Create User Bracket",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         },
         {
           "name":"bracketName",
           "in":"formData",
           "description":"bracketName",
           "type":"string",
           "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Bracket created successfully"
          },
          "409":{
            "description": "Bracket already registered"
          }
        }
      }
    },
    "/manage-user-bracket/getBracketById": {
      "get": {
        "tags": [
          "User Bracket"
        ],
        "description": "Get User Bracket By Id",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Bracket found successfully"
          },
          "404":{
            "description": "Bracket not found"
          }
        }
      }
    },
    "/manage-user-bracket/getById": {
      "post": {
        "tags": [
          "User Bracket"
        ],
        "description": "User Bracket",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         },
         {
           "name":"userBracketId",
           "in":"formData",
           "description":"userBracketId",
           "type":"number",
           "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Bracket Details Found successfully"
          }
          
        }
      }
    },
    "/manage-user-bracket/insertDetails": {
      "post": {
        "tags": [
          "User Bracket"
        ],
        "description": "User Bracket",
        "produces": [
          "application/json"
        ],
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         },
         {
          "name":"userBracketId",
          "in":"formData",
          "description":"userBracketId",
          "type":"number",
          "default":""
        },
         {
           "name":"userBracketDetails",
           "in":"body",
           "schema": {
            "type": "array",
            "$ref": "#/definitions/userBracketDetails"
          }
         }
        ],
        "responses": {
          "200": {
            "description": "Breaket upserted successfully"
          }
        }
      }
    },
    "/manage-user-bracket/updateDetails": {
      "post": {
        "tags": [
          "User Bracket"
        ],
        "description": "User Bracket",
        "produces": [
          "application/json"
        ],
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         },
         
          {
           "name":"userBracketDetails",
           "in":"body",
           "schema": {
            "$ref": "#/definitions/userBracketDetails"
          }
         }
        ],
        "responses": {
          "200": {
            "description": "Breaket upserted successfully"
          }
        }
      }
    },
    "/score/getRoundWiseScore": {
      "get": {
        "tags": [
          "Score"
        ],
        "description": "Scores",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Round wise score found"
          }
        }
      }
    },
    "/commonData": {
      "get": {
        "tags": [
          "Common"
        ],
        "description": "Common",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name":"access_token",
            "in":"header",
            "description":"access_token",
            "required":false,
            "type":"string",
            "default":""
         }
        ],
        "responses": {
          "200": {
            "description": "Data fetched successfully"
          }
        }
      }
    }
    
    
    },
    "definitions":{
    "login200":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "true"
        },
        "code": {
          "type": "integer",
          "example": "200"
        },
        "message": {
          "type": "string",
          "example": "Loggied in Successfully"
        },
        "data": {
          "type": "object",
          "example": {
            "id": "5e4dc58f196c6b36601a9030",
            "email": "manish.mohit2110+6@gmail.com",
            "telephone": "8004624940",
            "name": "manish mishra",
            "answers": []
          }
        }
      }
    },
    "login403":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "false"
        },
        "code": {
          "type": "integer",
          "example": "403"
        },
        "message": {
          "type": "string",
          "example": "Wrong email or password"
        },
        "data": {
          "type": "object",
          "example": {
            "message": "You have entered incorrect email/password"
          }
        }
      }
    },
    "forgotPassword200":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "true"
        },
        "code": {
          "type": "integer",
          "example": "200"
        },
        "message": {
          "type": "string",
          "example": "Password updated successfully"
        },
        "data": {
          "type": "object",
          "example": {
            "status": true,
            "message": "Password updated successfully"
          }
        }
      }
    },
    "forgotPassword400":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "false"
        },
        "code": {
          "type": "integer",
          "example": "400"
        },
        "message": {
          "type": "string",
          "example": "User does not exists"
        },
        "data": {
          "type": "object",
          "example": {
            "status": true,
            "message": "User does not exists"
          }
        }
      }
    },
    "signUp200":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "true"
        },
        "code": {
          "type": "integer",
          "example": "200"
        },
        "message": {
          "type": "string",
          "example": "User successfully signed up. Please verify your email"
        },
        "data": {
          "type": "object",
          "example": {
            "status": true,
            "message": ""
          }
        }
      }
    },
    "signUp409":{
      "properties": {
        "status": {
          "type": "boolean",
          "example": "false"
        },
        "code": {
          "type": "integer",
          "example": "409"
        },
        "message": {
          "type": "string",
          "example": "User with this email already exists"
        },
        "data": {
          "type": "object",
          "example": {
            "status": false,
            "message": ""
          }
        }
      }
    },
    "userBracketDetails":{
      "type": "object",
      "properties":{
          "teamId":{
            "type":"string"
          },
          "gameId":{
            "type":"string"
          }
        }
    }
   }
}
